(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f51a1372"],{"0004":function(t,a,e){"use strict";var o=e("e1f5"),n=e.n(o);n.a},e1f5:function(t,a,e){},ea85:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"data-room-modify"},[e("sub-layout",[e("div",[e("div",{staticClass:"title"},[e("h4",[e("b",[t._v("자료실")])])]),e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 subject"},[e("label",[t._v("제목")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dataRoom.bbs.title,expression:"dataRoom.bbs.title"}],staticClass:"w-80 d-inline-block form-control",attrs:{type:"text"},domProps:{value:t.dataRoom.bbs.title},on:{input:function(a){a.target.composing||t.$set(t.dataRoom.bbs,"title",a.target.value)}}})]),e("div",{staticClass:"col-12 content"},[null!=t.dataRoom.bbs.content?e("quill",{attrs:{qContent:t.dataRoom.bbs.content},on:{"childs-event":t.parentsMethod}}):t._e()],1),t._l(t.dataRoom.attachFile,function(a){return t.dataRoom.attachFile?e("div",[e("div",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(a.realName)),e("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(e){return t.deleteFile(a.id)}}},[t._v("삭제")])])]):t._e()}),e("div",{staticClass:"col-12 content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.fileCountAdd}},[t._v("첨부파일 추가")])]),e("div",{staticClass:"col-12"},[t._l(t.fileCount,function(a){return[e("div",{staticStyle:{"margin-top":"5px"}},[e("input",{attrs:{type:"file",id:"file_"+a},on:{change:t.uploadFile}})])]})],2)])]),e("div",{staticClass:"col-12"},[e("div",{staticClass:"btn-box float-right"},[e("div",["Y"==this.store.state.menuRole.modifyRole?e("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.modify}},[t._v("수정")]):t._e(),"Y"==this.store.state.menuRole.deleteRole?e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.cancel}},[t._v("취소")]):t._e(),"Y"==this.store.state.menuRole.readRole?e("router-link",{staticClass:"btn btn-info",attrs:{role:"button",to:"/dataRoom"}},[t._v("목록")]):t._e()],1)])])],2)])])])],1)},n=[],i=(e("456d"),e("ac6a"),e("386d"),e("c4f5")),s=e("9ce1"),c={name:"data-room-modify",props:[],mounted:function(){this.search()},data:function(){return{dataRoom:{bbs:{title:null,content:null},attachFile:[]},files:{},fileCount:1}},methods:{cancel:function(){this.router.go(-1)},search:function(){var t=this;this.$http.get("".concat(this.store.getters.restWebPath,"/dataRoom/").concat(this.$route.params.id)).then(function(a){var e=a.data;t.dataRoom=e.data})},modify:function(){var t=this;if(window.confirm("수정 하시겠습니까?")){var a=new FormData;a.append("dataRoom",new Blob([JSON.stringify(this.dataRoom)],{type:"application/json"})),Object.keys(this.files).forEach(function(e){a.append("files",t.files[e])}),this.$http.post("".concat(this.store.getters.restWebPath,"/dataRoom/").concat(this.$route.params.id),a,{headers:{"Content-Type":"multipart/mixed"}}).then(function(a){var e=a.data;"success"==e.result?(alert("수정 되었습니다."),t.router.push("/dataRoom/".concat(t.$route.params.id))):alert("수정 되지 않았습니다.")})}},uploadFile:function(){this.files[event.target.id]=event.target.files[0]},deleteFile:function(t){var a=this;window.confirm("파일을 삭제 하시겠습니까?")&&this.$http.delete("".concat(this.store.getters.restWebPath,"/dataRoom/file/").concat(this.dataRoom.id,"/").concat(t)).then(function(t){if("success"!=t.data.result)return alert(t.data.msg),!1;a.dataRoom.attachFile=t.data.attachFile,alert(t.data.msg)})},parentsMethod:function(t){this.dataRoom.bbs.content=t},fileCountAdd:function(){this.fileCount++}},computed:{},components:{SubLayout:i["a"],Quill:s["a"]}},l=c,r=(e("0004"),e("2877")),d=Object(r["a"])(l,o,n,!1,null,"4e9fd8d5",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-f51a1372.f24f6284.js.map
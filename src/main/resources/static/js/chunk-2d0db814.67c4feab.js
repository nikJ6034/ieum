(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0db814"],{"6fc1":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"program-detail"},[a("sub-layout",[a("div",[a("div",{staticClass:"title"},[a("h4",[a("b",[t._v("프로그램")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.program.kind,expression:"program.kind"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.program,"kind",e.target.multiple?a:a[0])}}},[a("option",{domProps:{value:1}},[t._v("꿈나래 학교")]),a("option",{domProps:{value:2}},[t._v("꿈과 끼 학교")])])]),a("div",{staticClass:"col-12"},[a("label",[t._v("제목")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.program.title,expression:"program.title"}],staticClass:"w-80 d-inline-block form-control",attrs:{type:"text"},domProps:{value:t.program.title},on:{input:function(e){e.target.composing||t.$set(t.program,"title",e.target.value)}}})]),a("div",{staticClass:"col-12"},[a("label",[t._v("일자")]),a("datepicker",{attrs:{language:t.ko,format:t.customFormatter},model:{value:t.program.strDate,callback:function(e){t.$set(t.program,"strDate",e)},expression:"program.strDate"}}),t._v("~\n                    "),a("datepicker",{attrs:{language:t.ko,format:t.customFormatter},model:{value:t.program.endDate,callback:function(e){t.$set(t.program,"endDate",e)},expression:"program.endDate"}})],1),a("div",{staticClass:"col-12"},[a("label",[t._v("신청기간")]),a("datepicker",{attrs:{language:t.ko,format:t.customFormatter},model:{value:t.program.strAppDate,callback:function(e){t.$set(t.program,"strAppDate",e)},expression:"program.strAppDate"}}),t._v("~\n                    "),a("datepicker",{attrs:{language:t.ko,format:t.customFormatter},model:{value:t.program.endAppDate,callback:function(e){t.$set(t.program,"endAppDate",e)},expression:"program.endAppDate"}})],1),a("div",{staticClass:"col-12 content"},[a("label",[t._v("장소")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.program.addressNumber,expression:"program.addressNumber"}],attrs:{type:"text",readonly:""},domProps:{value:t.program.addressNumber},on:{input:function(e){e.target.composing||t.$set(t.program,"addressNumber",e.target.value)}}}),a("button",{attrs:{type:"button"},on:{click:t.postPopup}},[t._v("우편번호 검색")]),a("label",[t._v("주소")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.program.address,expression:"program.address"}],attrs:{type:"text",readonly:""},domProps:{value:t.program.address},on:{input:function(e){e.target.composing||t.$set(t.program,"address",e.target.value)}}}),a("label",[t._v("상세 주소")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.program.addressDetail,expression:"program.addressDetail"}],attrs:{type:"text"},domProps:{value:t.program.addressDetail},on:{input:function(e){e.target.composing||t.$set(t.program,"addressDetail",e.target.value)}}})]),a("div",{staticClass:"col-12 content"},[t._v("\n                    이미지파일 "),a("input",{attrs:{type:"file",id:"image"},on:{change:t.uploadImage}}),t.program.imageFile?a("img",{staticStyle:{height:"150px"},attrs:{src:""+t.store.state.basePath+t.program.imageFile.resourcePath+"/"+t.program.imageFile.virtualName}}):t._e()]),a("div",{staticClass:"col-12 content"},[t.program.content?a("quill",{attrs:{qContent:t.program.content},on:{"update:qContent":function(e){return t.$set(t.program,"content",e)},"update:q-content":function(e){return t.$set(t.program,"content",e)}}}):t._e()],1),t._l(t.program.attachFile,function(e){return t.program.attachFile?a("div",[a("div",[t._v("\n                        "+t._s(e.realName)),a("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(a){return t.deleteFile(e.id)}}},[t._v("삭제")])])]):t._e()}),a("div",{staticClass:"col-12 content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("button",{staticClass:"btn btn-info",attrs:{type:"button"},on:{click:t.fileCountAdd}},[t._v("첨부파일 추가")])]),a("div",{staticClass:"col-12"},[t._l(t.fileCount,function(e){return[a("div",{staticStyle:{"margin-top":"5px"}},[a("img",{ref:"file_"+e,refInFor:!0,staticStyle:{width:"200px"}}),t._v("  \n                                    "),a("input",{attrs:{type:"file",id:"file_"+e,accept:"image/jpeg,image/gif,image/png"},on:{change:t.uploadFile}})])]})],2)])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"btn-box float-right"},[a("div",["Y"==this.store.state.menuRole.modifyRole?a("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.modify}},[t._v("수정")]):t._e(),"Y"==this.store.state.menuRole.deleteRole?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.cancel}},[t._v("취소")]):t._e(),a("router-link",{staticClass:"btn btn-info",attrs:{role:"button",to:"/admin/program"}},[t._v("목록")])],1)])])],2)])])],1)},o=[],s=(a("456d"),a("ac6a"),a("386d"),a("c4f5")),n=a("9ce1"),i=a("fa33"),l=a("2430"),c=a("c1df"),p=a.n(c),d={name:"ProgramModify",mounted:function(){this.search()},data:function(){return{program:{kind:1,address:"",addressDetail:"",addressNumber:null,strDate:"",endDate:"",strAppDate:"",endAppDate:"",title:"",content:"",attachFile:[],imageFile:null,openType:"M"},files:{},fileCount:1,image:null,en:l["a"],ko:l["b"]}},methods:{search:function(){var t=this;this.$http.get("".concat(this.store.getters.restWebPath,"/program/").concat(this.$route.params.id)).then(function(e){var a=e.data;t.program=a.data})},modify:function(){var t=this;if(window.confirm("수정 하시겠습니까?")){var e=new FormData;e.append("program",new Blob([JSON.stringify(this.program)],{type:"application/json"})),Object.keys(this.files).forEach(function(a){e.append("files",t.files[a])}),e.append("image",this.image),this.$http.post("".concat(this.store.getters.restWebPath,"/program/").concat(this.$route.params.id),e,{headers:{"Content-Type":"multipart/mixed"}}).then(function(e){var a=e.data;"success"==a.result?(alert("수정 되었습니다."),t.router.push("/admin/program/".concat(t.$route.params.id))):alert("수정 되지 않았습니다.")})}},uploadFile:function(t){var e=t.target.id,a=this;if(this.files[t.target.id]=t.target.files[0],t.target.files[0]){var r=new FileReader;r.onload=function(t){a.$refs[e][0].src=t.target.result},r.readAsDataURL(t.target.files[0])}},fileCountAdd:function(){this.fileCount++},uploadImage:function(t){this.image=t.target.files[0]},customFormatter:function(t){return p()(t).format("YYYY-MM-DD")},cancel:function(){this.router.go(-1)},deleteFile:function(t){var e=this;window.confirm("파일을 삭제 하시겠습니까?")&&this.$http.delete("".concat(this.store.getters.restWebPath,"/program/file/").concat(this.program.id,"/").concat(t)).then(function(t){if("success"!=t.data.result)return alert(t.data.msg),!1;e.program.attachFile=t.data.attachFile,alert(t.data.msg)})},postPopup:function(){var t=this;new daum.Postcode({oncomplete:function(e){var a="";a="R"===e.userSelectedType?e.roadAddress:e.jibunAddress,t.program.addressNumber=e.zonecode,t.program.address=a}}).open()}},computed:{},components:{SubLayout:s["a"],Quill:n["a"],Datepicker:i["a"]}},m=d,u=a("2877"),g=Object(u["a"])(m,r,o,!1,null,"4b0b63ec",null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0db814.67c4feab.js.map
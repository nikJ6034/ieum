(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48bf41ad"],{"21a9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"notice-modify"},[n("sub-layout",[n("div",[n("div",{staticClass:"title"},[n("h4",[n("b",[t._v("공지사항")])])]),n("form",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 subject"},[n("label",[t._v("제목")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.notice.bbs.title,expression:"notice.bbs.title"}],staticClass:"w-80 d-inline-block form-control",attrs:{type:"text"},domProps:{value:t.notice.bbs.title},on:{input:function(e){e.target.composing||t.$set(t.notice.bbs,"title",e.target.value)}}})]),n("div",{staticClass:"col-12 content"},[null!=t.notice.bbs.content?n("quill",{attrs:{qContent:t.notice.bbs.content},on:{"update:qContent":function(e){return t.$set(t.notice.bbs,"content",e)},"update:q-content":function(e){return t.$set(t.notice.bbs,"content",e)}}}):t._e()],1),t._l(t.notice.attachFile,function(e){return t.notice.attachFile?n("div",[n("div",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.realName)),n("button",{staticClass:"btn btn-link",attrs:{type:"button"},on:{click:function(n){return t.deleteFile(e.id)}}},[t._v("삭제")])])]):t._e()}),n("div",{staticClass:"col-12"},[0==t.notice.attachFile.length?[n("input",{attrs:{type:"file",id:"attachFile"},on:{change:t.uploadFile}})]:t._e()],2),n("div",{staticClass:"col-12"},[n("div",{staticClass:"btn-box float-right"},[n("div",["Y"==this.store.state.menuRole.modifyRole?n("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.modify}},[t._v("수정")]):t._e(),"Y"==this.store.state.menuRole.deleteRole?n("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.cancel}},[t._v("취소")]):t._e(),"Y"==this.store.state.menuRole.readRole?n("router-link",{staticClass:"btn btn-info",attrs:{role:"button",to:"/notice"}},[t._v("목록")]):t._e()],1)])])],2)])])])],1)},a=[],o=(n("456d"),n("ac6a"),n("386d"),n("c4f5")),s=n("4367"),c=n("9ce1"),l={name:"notice-modify",props:[],mounted:function(){this.search()},data:function(){return{notice:{bbs:{title:null,content:null},attachFile:[]},files:{}}},methods:{cancel:function(){this.router.go(-1)},search:function(){var t=this;this.$http.get("".concat(this.store.getters.restWebPath,"/notice/").concat(this.$route.params.id)).then(function(e){var n=e.data;t.notice=n.data})},modify:function(){var t=this;if(!s["a"].validation(this.notice)&&window.confirm("수정 하시겠습니까?")){var e=new FormData;e.append("notice",new Blob([JSON.stringify(this.notice)],{type:"application/json"})),Object.keys(this.files).forEach(function(n){e.append("files",t.files[n])}),this.$http.post("".concat(this.store.getters.restWebPath,"/notice/").concat(this.$route.params.id),e,{headers:{"Content-Type":"multipart/mixed"}}).then(function(e){var n=e.data;"success"==n.result?(alert("수정 되었습니다."),t.router.push("/notice/".concat(t.$route.params.id))):alert("수정 되지 않았습니다.")})}},uploadFile:function(){this.files[event.target.id]=event.target.files[0]},deleteFile:function(t){var e=this;window.confirm("파일을 삭제 하시겠습니까?")&&this.$http.delete("".concat(this.store.getters.restWebPath,"/notice/file/").concat(this.notice.id,"/").concat(t)).then(function(t){if("success"!=t.data.result)return alert(t.data.msg),!1;e.notice.attachFile=t.data.attachFile,alert(t.data.msg)})}},computed:{},components:{SubLayout:o["a"],Quill:c["a"]}},r=l,u=(n("383e"),n("2877")),d=Object(u["a"])(r,i,a,!1,null,"f194eece",null);e["default"]=d.exports},"383e":function(t,e,n){"use strict";var i=n("9bb0"),a=n.n(i);a.a},4367:function(t,e,n){"use strict";e["a"]={validation:function(t){return t.bbs.title?!t.bbs.content&&(alert("내용을 입력해주세요."),!0):(alert("제목을 입력해주세요."),!0)}}},"9bb0":function(t,e,n){}}]);
//# sourceMappingURL=chunk-48bf41ad.85afa678.js.map